---
toc: false
comments: false
layout: post
title: OOP, CSSE mini project Part 2
description: Convert Mario to Object Oriented Programming (OOP)
type: ccc
courses: { csse: {week: 14} }
---

{% include nav_oop.html %}

## OOP, Game Levels

Using heirarchy shown below start screen, game screens, and game over screens have been created.

```text
GameEnv
│
├── GameObject
│   ├── Player
│   ├── Platform
│   └── ...
│
├── GameLevel
│   ├── background
│   ├── platform
│   ├── player
│   ├── enemies: Array
│   ├── obstacles: Array
│   ├── isComplete: Callback
│   └── ...
│
└── GameControl
```

### Content Setup

Each level has a tag, background, platform, player, and callback function.  These attributes will be extended over time.  Immediately, it is very apparent, description is missing elements like enemies and objects in the game.  But, this progressive structure, enables Game Control to cycle from level to level on callback completion detection. 

- start/home sequence contains entry screen of game, this level could contain all game setup: player choice, speed, leader board.
- hills would contain classic mario game level(s)
- alien would contain adapted/personalized game level(s)
- gameover should contain logic for persistence, saving state in local storage, resume at point, start over, ...  


```javascript
/*  ==========================================
 *  ========== Game Level setup ==============
 *  ==========================================
 * Start/Homme sequence
 * a.) the start level awaits for button selection
 * b.) the start level automatically cycles to home level
 * c.) the home advances to 1st game screen when button selection is made
*/
GameLevel.create('start', '', '', '', startGameCallback);
GameLevel.create('home', '{{homeFile}}', '', '', homeScreenCallback);
// Game Screens
GameLevel.create('hills', '{{backgroundFile}}', '{{platformFile}}', '{{playerFile}}', testerCallBack);
GameLevel.create('alien', '{{backgroundFileAlt}}', '{{platformFile}}', '{{playerFile}}', testerCallBack);
// Test Game Screens, used during development and test
// GameLevel.create('noPlatform', '{{backgroundFileCastles}}', '', '{{playerFile}}', testerCallBack);
// GameLevel.create('noBackgroun', '', '{{platformFile}}', '{{playerFile}}', testerCallBack);
// Game Over
GameLevel.create('gameOver', '{{backgroundFileGameOver}}', '', '', gameOverCallBack);
```

### Callbacks

The callback on level currently supports advancement indicator.  The callback is continually be monitored in gameLoop and 

- store game status or game state to local storage
- capturing events in game that accumulate and store points


This below code is considered dummy code and is looking for purposefull implementation.  The callback is likely different for each game play level.

```javascript
// Level completion tester
function testerCallBack() {
    // console.log(GameEnv.player?.x)
    if (GameEnv.player?.x > 500) {
        return true;
    } else {
        return false;
    }
}
```



